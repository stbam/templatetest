{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{useNavigate,Link}from\"react-router-dom\";import{toast,ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){const history=useNavigate();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[user,setUser]=useState(\"\");const[confirmUser,setConfirmUser]=useState(\"\");const submit=async e=>{e.preventDefault();// Check if password and confirm password match\nif(password!==confirmPassword){toast.error(\"Password and Confirm Password do not match\");return;}// Check if username and confirm username match\nif(user!==confirmUser){toast.error(\"Username and Confirm Username do not match\");return;}try{const res=await axios.post(\"http://localhost:8000/signup\",{email,password,username:user});if(res.data===\"exist\"){toast.error(\"User already exists\");}else if(res.data===\"notexist\"){history(\"/home\",{state:{id:email}});}}catch(error){toast.error(\"Wrong details\");console.log(error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>setUser(e.target.value),placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>setConfirmUser(e.target.value),placeholder:\"Confirm Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:e=>setEmail(e.target.value),placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:e=>setPassword(e.target.value),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:e=>setConfirmPassword(e.target.value),placeholder:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:submit})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go back to login page\"}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Signup;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","toast","ToastContainer","jsx","_jsx","jsxs","_jsxs","Signup","history","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","user","setUser","confirmUser","setConfirmUser","submit","e","preventDefault","error","res","post","username","data","state","id","console","log","className","children","action","type","onChange","target","value","placeholder","onClick","to"],"sources":["/Users/stanislav/practical_web_dev_class/traversy/log-in-react/disp/upload/login-signup/src/components/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction Signup() {\r\n    const history = useNavigate();\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [user, setUser] = useState(\"\");\r\n    const [confirmUser, setConfirmUser] = useState(\"\");\r\n\r\n    const submit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Check if password and confirm password match\r\n        if (password !== confirmPassword) {\r\n            toast.error(\"Password and Confirm Password do not match\");\r\n            return;\r\n        }\r\n\r\n        // Check if username and confirm username match\r\n        if (user !== confirmUser) {\r\n            toast.error(\"Username and Confirm Username do not match\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await axios.post(\"http://localhost:8000/signup\", {\r\n                email,\r\n                password,\r\n                username: user,\r\n            });\r\n\r\n            if (res.data === \"exist\") {\r\n                toast.error(\"User already exists\");\r\n            } else if (res.data === \"notexist\") {\r\n                history(\"/home\", { state: { id: email } });\r\n            }\r\n        } catch (error) {\r\n            toast.error(\"Wrong details\");\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"signup\">\r\n            <h1>Signup</h1>\r\n            <form action=\"POST\">\r\n                <input type=\"text\" onChange={(e) => setUser(e.target.value)} placeholder=\"Username\" />\r\n                <input type=\"text\" onChange={(e) => setConfirmUser(e.target.value)} placeholder=\"Confirm Username\" />\r\n                <input type=\"email\" onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" />\r\n                <input type=\"password\" onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" />\r\n                <input type=\"password\" onChange={(e) => setConfirmPassword(e.target.value)} placeholder=\"Confirm Password\" />\r\n                <input type=\"submit\" onClick={submit} />\r\n            </form>\r\n            <Link to=\"/\">Go back to login page</Link>\r\n            <ToastContainer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}